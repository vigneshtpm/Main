<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Page</title>
    <link rel="stylesheet" href="assets/css/index1.css">
    <link rel="stylesheet" href="assets/css/education.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>        
    <script scr = "bootstrap-5.2.3-dist/js/bootstrap.min.js"></script>
    <script src = "bootstrap-5.2.3-dist/js/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="assets/js/education.js"></script>
    <link rel="stylesheet" href="bootstrap-5.2.3-dist/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
   
<body>
    <!--Start Header-->
    <div id="header"></div>
    <div id="navigation"></div>
    <!--End Header-->
   
      <!--Menu Side bar-->
      <!--Mobile Menu-->
      <div class="offcanvas offcanvas-start 
                  d-md-block" 
        tabindex="-1" id="sidebar"style="background-color: #000064;"
        aria-labelledby="sidebarLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title text-white "
                id="sidebarLabel">Menu</h5>
            <button type="button" style="background-color: white;"
                    class="btn-close"
                    data-bs-dismiss="offcanvas"
                    aria-label="Close">
            </button>
        </div>
        <div class="offcanvas-body">
            <ul class="nav flex-column navFix" >
              
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="Personal.html">
                    <i class="fa-solid fa-user"></i> &emsp;
                        Personal Information<i class=" ms-3 fa-solid fa-circle-check"></i>
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="education.html"><i class="fa-solid fa-user-graduate"></i> &emsp;
                        Education Details
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="Certificate.html"><i class="fa-solid fa-cloud-arrow-up"></i> &ensp;
                        Certificate Upload
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="preview.html"><i class="fa-regular fa-eye"></i> &ensp;
                        Preview Details
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="#"><i class="fa-solid fa-indian-rupee-sign"></i> &emsp;
                        Payment 
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link  text-white"
                    href="download.html"><i class="fa-solid fa-file-pdf"></i> &emsp;
                        Download Application
                    </a>
                </li>
               
            </ul>
           
        </div>
    </div>
    <!--End Mobile Menu-->
<!--Windows Menu-->
    <div class="container-fluid" style="margin-top: 5px;">
        <div class="row">
            <nav id="sidebarMenu"
                class="col-md-4 col-lg-3 col-xxl-2 d-none 
                        d-md-block  sidebar" style="background-color: #000064;">
                <div class="position-sticky 
                             vh-100" style="background-color: #000064;">
                    <div class="pt-3">
                        <h4 class="offcanvas-title sidebar-heading d-flex 
                                justify-content-between 
                                align-items-center px-3 
                                mt-4 mb-1 text-muted">
                            <span class=" text-white" style="margin-bottom: 15px;">
                                Menu
                            </span>
                        </h4>
                        <ul class="nav flex-column navFix" >
                           
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="Personal.html">
                                <i class="fa-solid fa-user"></i> &emsp;
                                    Personal Information<i class=" ms-3 fa-solid fa-circle-check"></i>
                                </a>
                            </li>
                        
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="education.html"><i class="fa-solid fa-user-graduate"></i>&emsp;
                                    Education Details
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="Certificate.html"><i class="fa-solid fa-cloud-arrow-up"></i> &ensp;
                                    Certificate Upload
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="preview.html"><i class="fa-regular fa-eye"></i> &ensp;
                                    Preview Details
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="#"><i class="fa-solid fa-indian-rupee-sign"></i></i> &emsp;
                                    Payment
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link  text-white"
                                href="download.html"><i class="fa-solid fa-file-pdf"></i> &emsp;
                                    Download Application
                                </a>
                            </li>
                           
                        </ul>
                    </div>
                </div>
            </nav>
            <!--Starting Main Page-->
            
            <main class="col-md-8 ms-sm-auto col-lg-9 col-xxl-10 col-md-4">
                <form method="post" action="eduinsert.php">
                <div class="pt-3 " style="margin-bottom: 10%;">
                    <h2 class="text-color text-center" style="color: #000064;">Education Qualification</h2><br>
                    <!-- Write code Here-->
                    <h3>School Details</h3>
                    <div class="col-md-12">
                        <div class="table-responsive">
                        <table class="table table-bordered form-table">
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:10%;"/>
                            <col style="inline-size:15%;"/>
                            <col style="inline-size:10%;"/>
                            <thead>
                                <tr>
                                    <th class="mid-center">Course</th>
                                    <th class="mid-center">Institution</th>
                                    <th class="mid-center">Board</th>
                                    <th class="mid-center">Subject<br/>Studied</th>
                                    <th class="mid-center">Register No.</th>
                                    <th class="mid-center">Mark obtained<br/>in Percentage</th>
                                    <th class="mid-center">Month &amp; Year<br/>of Passing</th>
                                    <th class="mid-center">Regular / Private<br/>Other Mode</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        S.S.L.C. (X Std.)
                                        <input class="form-control" id="sslc_course" name="sslc_course" type="hidden" value="S.S.L.C. (X Std.)">
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="sslc_ins" name="Institution_SSLC" type="text" value="">
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="sslc_board" name="Board_SSLC" type="text" value="">
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="sslc_sub" name="Subject_Studied_SSLC" type="text" value="">
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="sslc_reg_no" name="Register_No_SSLC" type="text" value="">
                                    </td>
                                    <td>
                                        <input class="form-control req_field number_dot_only number_only_100" id="sslc_perc" max="100" maxlength="5" name="Percentage_SSLC" type="text" value="">
                                    </td>
                                    <td>
                                        <div class="dropdown-container">
                                            <select class="select2me form-control month" id="month" name="month_SSLC">
                                                <option value="1">January</option>
                                                <option value="2">February</option>
                                                <option value="3">March</option>
                                                <option value="4">April</option>
                                                <option value="5">May</option>
                                                <option value="6">June</option>
                                                <option value="7">July</option>
                                                <option value="8">August</option>
                                                <option value="9">September</option>
                                                <option value="10">October</option>
                                                <option value="11">November</option>
                                                <option value="12">December</option>
                                            </select>
                                    
                                            <select class="select2me form-control year" id="year" name="year_SSLC"></select>
                                        </div>
                                        <span class="req_symbol" id="passing_date_span" style="display:none">Month & Year of passing is Required!</span>
                                    </td>
                                    <td>
                                        <select class="select2me form-control mode_req_field" id="sslc_mode" name="Regular_Private_SSLC" tabindex="1">
                                            <option value="">Select</option>
                                            <option value="Regular">Regular</option>
                                            <option value="Private">Private</option>
                                            <option value="Other Mode">Other Mode</option>
                                        </select><br/>
                                        <span class="req_symbol" id="sslc_mode_span" style="display:none">SSLC Regular / Private / Other Study is Required!</span>
                                    </td>                                    
                                </tr>
                                <tr>
                                    <td>
                                        <select class="select2me form-control mode_req_field" id="hsc_course" name="Hsc_diploma" tabindex="1">
                                            <option value="">Select HSC(+2) / Diploma</option>
                                            <option selected="" value="HSC">HSC(+2)</option>
                                            <option value="Diploma">Diploma</option>
                                        </select><br/>
                                        <span class="req_symbol" id="hsc_course_span" style="display:none">HSC Course is Required!</span>
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="hsc_ins" name="Institution_HSC" type="text" value=""/>
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="hsc_board" name="Board_HSC" type="text" value=""/>
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="hsc_sub" name="Subject_Studied_HSC" type="text" value=""/>
                                    </td>
                                    <td>
                                        <input class="form-control req_field" id="hsc_reg_no" name="Register_No_HSC" type="text" value=""/>
                                    </td>
                                    <td>
                                        <input class="form-control req_field number_dot_only number_only_100" id="hsc_perc" maxlength="5" name="Percentage_HSC" type="text" value=""/>
                                    </td>
                                    <td>
                                        <div class="dropdown-container">
                                            <select class="select2me form-control month" id="month" name="month_HSC">
                                                <option value="1">January</option>
                                                <option value="2">February</option>
                                                <option value="3">March</option>
                                                <option value="4">April</option>
                                                <option value="5">May</option>
                                                <option value="6">June</option>
                                                <option value="7">July</option>
                                                <option value="8">August</option>
                                                <option value="9">September</option>
                                                <option value="10">October</option>
                                                <option value="11">November</option>
                                                <option value="12">December</option>
                                            </select>
                                
                                            <select class="select2me form-control year" id="year" name="year_HSC"></select>
                                        </div>
                                        <span class="req_symbol" id="passing_date_span" style="display:none">Month & Year of passing is Required!</span>
                                    </td>
                                    <td>
                                        <select class="select2me form-control mode_req_field" id="hsc_mode" name="Regular_Private_HSC" tabindex="1">
                                            <option value="">Select</option>
                                            <option value="Regular">Regular</option>
                                            <option value="Private">Private</option>
                                            <option value="Other Mode">Other Mode</option>
                                        </select><br/>
                                        <span class="req_symbol" id="hsc_mode_span" style="display:none">HSC Regular / Private / Other Study is Required!</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    </div>
                    <br>
                    <!--school ends-->
                    <h3>College Details</h3>
                    <div class="form-group">
                        <form class="form-inline-custom">
                            <div class="row">
                                <div class="col-sm-12 col-md-6 mb-3">
                                    <div class="row">
                                        <div class="col-sm-4 col-md-4 col-xs-4">
                                            <label for="collegeName">Name of the College Last Studied <span style="color: red;">*</span></label>
                                        </div>
                                        <div class="col-sm-8 col-md-8 col-xs-8">
                                            <input type="text" class="form-control" id="collegeName" name="College_Last_Studied" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-6 mb-3">
                                    <div class="row">
                                        <div class="col-sm-4 col-md-4">
                                            <label for="universityName">Name of the University Last Studied <span style="color: red;">*</span></label>
                                        </div>
                                        <div class="col-sm-8 col-md-8">
                                            <input type="text" class="form-control" id="universityName" name="University_Last_Studied" required>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                            <div class="col-sm-12 col-md-6 mb-3">
                            <div class="row">
                                <div class="col-sm-4 col-md-4 col-xs-4">
                                <label for="qualificationtype">Qualification Type<span style="color: red;">*</span></label>
                                </div>
                                <div class="col-sm-8 col-md-8 col-xs-8">
                                    <select class="select2me form-control" id="qualification_type" name="Qualification_Type" tabindex="1">
                                        <option value="" disabled selected>Select your type</option>
                                        <option value="UG Arts &amp; Science">UG Arts &amp; Science</option>
                                        <option value="B.E / B.Tech Regular">B.E / B.Tech Regular</option>
                                        <option value="B.E / B.Tech Lateral">B.E / B.Tech Lateral</option>
                                        <option value="Any P.G Degree">Any P.G Degree</option>
                                    </select>
                                    <span class="req_symbol" id="qualification_type_span" style="display:none">Qualification Type is Required!</span>
                                </div>
                            </div>
                            </div>
                            <div class="col-sm-12 col-md-6 mb-3">
                                <div class="row"> 
                                    <div class="col-sm-4 col-md-4 col-xs-4">
                                        <label for="qualificationdegree">Qualification Degree<span style="color: red;">*</span></label>
                                    </div>
                                    <div class="col-sm-8 col-md-8 col-xs-8">
                                        <!-- Dropdown populated from database based on qualification type -->
                                        <select class="select2me form-control" id="qualificationdegree" name="qualificationdegree" tabindex="1">
                                            <option value="" disabled selected>Select your Degree</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            </div>
                            </div>
                            
                            <div class="row">
                            <div class="col-sm-12 col-md-6 mb-3">
                            <div class="row">
                                    <div class="col-sm-4 col-md-4 col-xs-4">
                                    <label for="passing-date">Month & Year of Passing<span style="color: red;">*</span></label>
                                    </div> 
                                    <div class="col-sm-8 col-md-8 col-xs-8">
                                        <!-- Selection dropdowns -->
                                        <div class="row">
                                        <div class="dropdown-container">  
                                            <select class="select2me form-control month" id="month" name="month_degree">
                                                <option value="1">January</option>
                                                <option value="2">February</option>
                                                <option value="3">March</option>
                                                <option value="4">April</option>
                                                <option value="5">May</option>
                                                <option value="6">June</option>
                                                <option value="7">July</option>
                                                <option value="8">August</option>
                                                <option value="9">September</option>
                                                <option value="10">October</option>
                                                <option value="11">November</option>
                                                <option value="12">December</option>
                                            </select>     
                                            <select class="select2me form-control year" id="yaer" name="year_degree"></select>   
                                        </div>
                                        </div>

                                    </div>
                                    <span class="req_symbol" id="passing_date_span" style="display:none">Month & Year of passing is Required!</span>
                                </div>
                                </div>
                                    <div class="col-sm-12 col-md-6 mb-3">
                                    <div class="row">
                                        <div class="col-sm-4 col-md-4 col-xs-4">
                                        <label class="control-label">Semester type<span style="color: red;">*</span></label>
                                        </div>
                                        <div class="col-sm-8 col-md-8 col-xs-8">
                                        <select class="select2me form-control mode_req_field" id="semester_type" name="Semester_Type" tabindex="1">
                                            <option value="" disabled selected>Select your type</option>
                                            <option value="Semester">Semester</option>
                                            <option value="Non-Semester">Non-Semester</option>
                                        </select>
                                        </div>
                                        <span class="req_symbol" id="semester_type_span" style="display:none">Semester Type is Required!</span>
                                    </div>
                                    </div>
                                </div>   
                            
                                <div class="row">
                                    <div class="col-sm-12 col-md-6 mb-3">
                                    <div class="row">
                                            <div class="col-sm-4 col-md-4 col-xs-4">
                                                <label class="control-label">Total No Of Semesters<span style="color: red;">*</span></label>
                                            </div>
                                            <div class="col-sm-8 col-md-8 col-xs-8">    
                                                <select class="select2me form-control" id="no-of-sem" name="Total_No_of_Semesters" tabindex="1">
                                                    <option value="2" selected>2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                </select>
                                            </div>
                                    </div>
                                    </div>
                                </div>

                        <div class="form-group">
                            <div class="col-md-10" style="margin-block-start:1%">
                                <div>
                                    Are you awaiting for Final Semester Marksheet? 
                                    <input type="radio" id="awaiting_yes" name="awaiting_for_marksheet" value="yes" style="margin-left: 20px;"> Yes
                                    <input type="radio" id="awaiting_no" name="awaiting_for_marksheet" value="no" style="margin-left: 20px;"> No
                                </div>
                            </div>
                        </div>
                            <br>
                            <div class="form-group">
                                <div class="col-md-12" style="color:orange">
                                    <b><u>Note :</u></b> 
                                    <br/>For Arts & Science students-- Please Enter your major subject marks for Part III.
                                    <br/>For Engineering students- Please Enter your major subject marks for Semesters 3 to 8 after selecting Part III.
                                </div>
                            </div>
                            <br>
                            <h3>Semester Marks</h3>
                            <div id="tables_container">
                                <!-- Semester Tables will be generated here -->
                            </div>
    <div class="form-group">
      <div class="col-md-12">
        <table class="table table-bordered table-advance">
          <thead>
            <tr>
              <th class="mid-center">Total Maximum Marks</th>
              <th class="mid-center">Total Marks Obtained</th>
              <th class="mid-center">Percentage of Marks<br/>(Part III)</th>
              <th class="mid-center">Class Obtained</th>
              <th class="mid-center">CGPA</th>
              <th class="mid-center">Overall Grade / Percentage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <input class="form-control req_field number_only" disabled="disabled" id="max_mark_disp" name="max_mark_disp" type="text" value=""/>
                <input class="form-control req_field number_only" id="max_mark" name="max_mark" type="hidden" value=""/>
              </td>
              <td>
                <input class="form-control req_field number_only" disabled="disabled" id="mark_obt_disp" name="mark_obt_disp" type="text" value=""/>
                <input class="form-control req_field number_only" id="mark_obt" name="mark_obt" type="hidden" value=""/>
              </td>
              <td>
                <input class="form-control req_field number_dot_only number_only_100" disabled="disabled" id="perc_mark_disp" maxlength="5" name="perc_mark_disp" type="text" value=""/>
                <input class="form-control req_field number_dot_only number_only_100" id="perc_mark" maxlength="5" name="perc_mark" type="hidden" value=""/>
              </td>
              <td>
                <input class="form-control req_field" id="cls_obt" name="cls_obt" type="text" value=""/>
              </td>
              <td>
                <input class="form-control number_dot_only number_only_100" id="cgpa" name="cgpa" type="text" value=""/>
              </td>
              <td>
                <input class="form-control" id="grade" name="grade" type="text" value=""/>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  <div class="form-group">
    <div class="col-md-12">
    <b>DECLARATION :</b> I declare that the information given above are true to the best of my knowledge and that I shall, if admitted abide by the rules of the University.
                                    </div>
    </div>
    <div class="form-group">
    <div class="col-md-1">
    </div>
    <div class="col-md-11">
    <input id="dec_agree" name="dec_agree" type="checkbox" value="agree"><span id="agree_alert">I agree to the declaration</span>
    </input></div>
    </div>
     <!--
                    <div class="mb-3">
                        <h5>Others</h5>
                        <input class="form-control" type="file" name="others2File" id="others2File" style="min-width:30% ; max-width: 50%;">
                        <button type="button" class="btn btn-primary view-button" id="others2ViewButton"><i class="fas fa-eye"></i> View</button>
                        <div class="file-preview" id="others2Preview"></div>
                        <div class="error-message" id="others2FileError"></div>
                    </div>-->
                </div>
                <input type="submit" class="btn btn-primary float-end" value="Save & Continue">
                </form>
                            




                </div>
            </main>
            <!--End Main Page-->
            
          
        </div>
    </div>
    <!-- End Windows Menu-->
      <!--End Menu Side bar-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>        
    <script scr = "bootstrap-5.2.3-dist/js/bootstrap.min.js"></script>
    <script src = "bootstrap-5.2.3-dist/js/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>

        
    <script>
        // Function to generate semester tables based on the selected number of semesters
        function generateSemesterTables(numSemesters) {
            var storedData = {}; // Initialize stored data object
        
            // Clear existing tables
            $('#tables_container').empty();
        
            // Generate tables for each semester
            for (var i = 1; i <= numSemesters; i++) {
                generateSemesterTable(i, 1, storedData); // Generate table for each semester with default of 1 subject
            }
        }
        
        // Function to generate semester table with specified ID and number of subjects
        function generateSemesterTable(semesterId, numSubjects, storedData) {
            var tableHTML = `
                <div>
                    <h2>Semester ${semesterId}</h2>
                    <div class="form-group">
                        <label for="no-of-subjects-sem${semesterId}" style="display: inline-block; margin-right: 10px;">Number of Subjects:</label>
                        <select class="select2me form-control form-control no-of-subjects-select" id="no-of-subjects-sem${semesterId}" data-semester-id="${semesterId}" style="display: inline-block; width:200px;">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                    <table class="table table-bordered" style="margin-top: 20px;">
                        <thead>
                            <tr>
                                <th>Subject / Course Name</th>
                                <th>Category</th>
                                <th>Maximum Marks</th>
                                <th>Obtained Marks</th>
                                <th>Month & Year of Passing</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Rows will be dynamically added here -->
                        </tbody>
                    </table>
                </div>
            `;
        
            $('#tables_container').append(tableHTML);
        
            // Set the selected value for number of subjects if data exists
            if (storedData && storedData[`no_of_subjects_sem${semesterId}`]) {
                $(`#no-of-subjects-sem${semesterId}`).val(storedData[`no_of_subjects_sem${semesterId}`]);
            }
        
            // Generate rows based on the number of subjects
            generateRows(semesterId, numSubjects, storedData);
        
            // Event listener for changes in the number of subjects dropdown
            $(`#no-of-subjects-sem${semesterId}`).on('change', function() {
                var numSubjects = parseInt($(this).val());
                var semesterId = $(this).data('semester-id');
                generateRows(semesterId, numSubjects, storedData);
                storeTableData(); // Store the data whenever there's a change
            });
        }
        
        // Function to generate rows within a table
        function generateRows(semesterId, numSubjects, storedData) {
            var tbody = $(`#no-of-subjects-sem${semesterId}`).closest('div').next('table').find('tbody');
            tbody.empty(); // Clear existing rows
        
            // Generate rows based on the number of subjects
            for (var j = 1; j <= numSubjects; j++) {
                var rowData = storedData[`Row_${semesterId}_${j - 1}`] || {};
                var currentYear = new Date().getFullYear();
                var yearOptions = '';
                for (var year = currentYear; year >= currentYear - 20; year--) {
                    yearOptions += `<option value="${year}" ${rowData.year === year ? 'selected' : ''}>${year}</option>`;
                }
        
                tbody.append(`
                    <tr>
                        <td><input type="text" class="form-control" name="Sub_${semesterId}_${j}" value="${rowData.subject || ''}" /></td>
                        <td>
                            <select class="form-control" name="Cat_${semesterId}_${j}">
                                <option value="">Select Category</option>
                                <option value="Part I" ${rowData.category === 'Part I' ? 'selected' : ''}>Part I</option>
                                <option value="Part II" ${rowData.category === 'Part II' ? 'selected' : ''}>Part II</option>
                                <option value="Part III" ${rowData.category === 'Part III' ? 'selected' : ''}>Part III</option>
                                <option value="Part IV" ${rowData.category === 'Part IV' ? 'selected' : ''}>Part IV</option>
                                <option value="Part V" ${rowData.category === 'Part V' ? 'selected' : ''}>Part V</option>
                            </select>
                        </td>
                        <td><input type="number" class="form-control" name="Maxi_${semesterId}_${j}" value="${rowData.maximumMarks || ''}" /></td>
                        <td><input type="number" class="form-control" name="Obt_${semesterId}_${j}" value="${rowData.obtainedMarks || ''}" /></td>
                        <td><div class="dropdown-container">
                                <select class="select2me form-control month">
                                    <option value="1" ${rowData.month === 1 ? 'selected' : ''}>January</option>
                                    <option value="2" ${rowData.month === 2 ? 'selected' : ''}>February</option>
                                    <option value="3" ${rowData.month === 3 ? 'selected' : ''}>March</option>
                                    <option value="4" ${rowData.month === 4 ? 'selected' : ''}>April</option>
                                    <option value="5" ${rowData.month === 5 ? 'selected' : ''}>May</option>
                                    <option value="6" ${rowData.month === 6 ? 'selected' : ''}>June</option>
                                    <option value="7" ${rowData.month === 7 ? 'selected' : ''}>July</option>
                                    <option value="8" ${rowData.month === 8 ? 'selected' : ''}>August</option>
                                    <option value="9" ${rowData.month === 9 ? 'selected' : ''}>September</option>
                                    <option value="10" ${rowData.month === 10 ? 'selected' : ''}>October</option>
                                    <option value="11" ${rowData.month === 11 ? 'selected' : ''}>November</option>
                                    <option value="12" ${rowData.month === 12 ? 'selected' : ''}>December</option>
                                </select>
                                <select class="select2me form-control year">
                                    ${yearOptions}
                                </select>
                            </div></td>
                    </tr>
                `);
            }
        }
        
        // Event listener for changes in the number of semesters dropdown
        $('#no-of-sem').on('change', function() {
            var numSemesters = parseInt($(this).val());
            generateSemesterTables(numSemesters);
        });
        
        // Function to store the data of each row
        function storeTableData() {
            var storedData = {};
        
            // Loop through each semester table
            $('#tables_container').find('div').each(function() {
                var semesterId = $(this).find('.no-of-subjects-select').data('semester-id');
                storedData[`no_of_subjects_sem${semesterId}`] = $(this).find('.no-of-subjects-select').val();
        
                // Loop through each row in the semester table
                $(this).find('tbody tr').each(function(index) {
                    var rowData = {
                        subject: $(this).find('input[name^="Sub"]').val(),
                        category: $(this).find('select[name^="Cat"]').val(),
                        maximumMarks: $(this).find('input[name^="Maxi"]').val(),
                        obtainedMarks: $(this).find('input[name^="Obt"]').val(),
                        month: parseInt($(this).find('.month').val()),
                        year: parseInt($(this).find('.year').val())
                    };
                    storedData[`Row_${semesterId}_${index}`] = rowData;
                });
            });
        
            // Return the stored data
            return storedData;
        }
        
        // Retrieve stored data when the page loads
        $(document).ready(function() {
            var storedData = JSON.parse(localStorage.getItem('storedData')) || {}; // Retrieve stored data from local storage
            var numSemesters = parseInt($('#no-of-sem').val()); // Get the initial number of semesters
            generateSemesterTables(numSemesters); // Generate tables based on the initial number of semesters
            $('#no-of-sem').trigger('change'); // Trigger the change event to generate rows for initial semesters
        
            // Event listener for changes in the number of semesters dropdown
            $('#no-of-sem').on('change', function() {
                var numSemesters = parseInt($(this).val());
                generateSemesterTables(numSemesters); // Generate tables based on the selected number of semesters
                storeTableData(); // Store the data whenever there's a change in the number of semesters
            });
        
            // Event listener for changes in the number of subjects dropdown
            $(document).on('change', '.no-of-subjects-select', function() {
                storeTableData(); // Store the data whenever there's a change in the number of subjects
            });
        
            // Store the data whenever the user leaves the page
            $(window).on('beforeunload', function() {
                var storedData = storeTableData(); // Store the data
                localStorage.setItem('storedData', JSON.stringify(storedData)); // Save the data to local storage
            });
        });
        
        // Function to calculate and update the total marks and percentage
        function calculateMarks() {
            var totalMaxMarks = 0;
            var totalObtMarks = 0;
            var totalMaxMarksPartIII = 0;
            var totalObtMarksPartIII = 0;
            var totalSubjectsPartIII = 0;
        
            // Loop through each semester table
            $('#tables_container').find('div').each(function() {
                $(this).find('tbody tr').each(function() {
                    var maxMarks = parseInt($(this).find('input[name^="Maxi"]').val()) || 0;
                    var obtMarks = parseInt($(this).find('input[name^="Obt"]').val()) || 0;
                    var category = $(this).find('select[name^="Cat"]').val() || '';
        
                    // Calculate total maximum and obtained marks
                    totalMaxMarks += maxMarks;
                    totalObtMarks += obtMarks;
        
                    // Calculate total maximum and obtained marks for Part III
                    if (category === 'Part III') {
                        totalMaxMarksPartIII += maxMarks;
                        totalObtMarksPartIII += obtMarks;
                        totalSubjectsPartIII++;
                    }
                });
            });
        
            // Update the input fields with the calculated values
            $('#max_mark_disp').val(totalMaxMarks);
            $('#max_mark').val(totalMaxMarks);
        
            $('#mark_obt_disp').val(totalObtMarks);
            $('#mark_obt').val(totalObtMarks);
        
            // Calculate percentage of marks for Part III
            var percMarksPartIII = (totalObtMarksPartIII / totalMaxMarksPartIII) * 100 || 0;
            $('#perc_mark_disp').val(percMarksPartIII.toFixed(3));
            $('#perc_mark').val(percMarksPartIII.toFixed(3));
        }
        
        // Call the calculateMarks function initially and whenever there's a change in the marks
        $(document).ready(function() {
            calculateMarks(); // Initial calculation
        
            // Event listener for changes in the marks
            $('#tables_container, #no-of-sem').on('change', function() {
                calculateMarks(); // Recalculate marks whenever there's a change
            });
        });
        </script>
        
    
    <script>
        $(document).ready(function() {
            // Get current year
            const currentYear = (new Date()).getFullYear();

            // Function to populate year dropdown
            function populateYearDropdown(yearDropdown) {
                // Clear any existing options
                yearDropdown.empty();

                // Populate year dropdown
                for (let i = currentYear - 30; i <= currentYear; i++) {
                    yearDropdown.append($('<option>', {
                        value: i,
                        text: i
                    }));
                }

                // Set default value to current year
                yearDropdown.val(currentYear);
            }

            // Call the function for each set of dropdowns
            $('.dropdown-container').each(function() {
                populateYearDropdown($(this).find('.year'));
            });
        });
    </script>
    <script>
        $(document).ready(function(){
            $("#header").load("header.html");
            $("#navigation").load("navigation.html")
        });
    </script>
    

</body>
</html>